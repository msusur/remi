(function(){"use strict";angular.module("nvd3",[]).directive("nvd3",[function(){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?"},link:function(n,t){function e(t,i,r){t&&i&&angular.forEach(t,function(u,e){e==="dispatch"?((i[e]===undefined||i[e]===null)&&n._config.extended&&(i[e]={}),f(u,i[e])):e==="xScale"&&r==="scatterChart"||e==="yScale"&&r==="scatterChart"||e==="values"&&r==="pieChart"||["scatter","defined","options","axis","rangeBand","rangeBands"].indexOf(e)<0&&(i[e]===undefined||i[e]===null?n._config.extended&&(i[e]=u()):t[e](i[e]))})}function f(t,i){t&&i&&angular.forEach(t,function(r,u){if(i[u]===undefined||i[u]===null)n._config.extended&&(i[u]=r.on);else t.on(u+"._",i[u])})}function i(i){var u=r(s(i),n.options[i]||{}),f;n._config.extended&&(n.options[i]=u);f=angular.element("<div><\/div>").html(u.html||"").addClass(i).addClass(u.class).removeAttr("style").css(u.css);u.html||f.text(u.text);u.enable&&(i==="title"?t.prepend(f):i==="subtitle"?t.find(".title").after(f):i==="caption"&&t.append(f))}function o(){var i=r(h(),n.options.styles||{});n._config.extended&&(n.options.styles=i);angular.forEach(i.classes,function(n,i){n?t.addClass(i):t.removeClass(i)});t.removeAttr("style").css(i.css)}function s(t){switch(t){case"title":return{enable:!1,text:"Write Your Title","class":"h4",css:{width:n.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:n.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:n.options.chart.width+"px",textAlign:"center"}}}}function h(){return{classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}}}function r(n){return angular.forEach(arguments,function(t){t!==n&&angular.forEach(t,function(t,i){n[i]&&n[i].constructor&&n[i].constructor===Object?r(n[i],t):n[i]=t})}),n}var u={extended:!1,visible:!0,disabled:!1,autorefresh:!0,refreshDataOnly:!1};n._config=angular.extend(u,n.config);n.api={refresh:function(){n.api.updateWithOptions(n.options)},updateWithOptions:function(t){(n.api.clearElement(),angular.isDefined(t)!==!1)&&n._config.visible&&(n.chart=nv.models[t.chart.type](),angular.forEach(n.chart,function(i,r){r==="options"||(r==="dispatch"?((t.chart[r]===undefined||t.chart[r]===null)&&n._config.extended&&(t.chart[r]={}),f(n.chart[r],t.chart[r])):["lines","lines1","lines2","bars","bars1","bars2","stack1","stack2","multibar","discretebar","pie","scatter","bullet","sparkline","legend","distX","distY","xAxis","x2Axis","yAxis","yAxis1","yAxis2","y1Axis","y2Axis","y3Axis","y4Axis","interactiveLayer","controls"].indexOf(r)>=0?((t.chart[r]===undefined||t.chart[r]===null)&&n._config.extended&&(t.chart[r]={}),e(n.chart[r],t.chart[r],t.chart.type)):r==="clipEdge"&&t.chart.type==="multiBarHorizontalChart"||r==="clipVoronoi"&&t.chart.type==="historicalBarChart"||r==="color"&&t.chart.type==="indentedTreeChart"||r==="defined"&&(t.chart.type==="historicalBarChart"||t.chart.type==="cumulativeLineChart"||t.chart.type==="lineWithFisheyeChart")||r==="forceX"&&(t.chart.type==="multiBarChart"||t.chart.type==="discreteBarChart"||t.chart.type==="multiBarHorizontalChart")||r==="interpolate"&&t.chart.type==="historicalBarChart"||r==="isArea"&&t.chart.type==="historicalBarChart"||r==="size"&&t.chart.type==="historicalBarChart"||r==="stacked"&&t.chart.type==="stackedAreaChart"||r==="values"&&t.chart.type==="pieChart"||r==="xScale"&&t.chart.type==="scatterChart"||r==="yScale"&&t.chart.type==="scatterChart"||r==="x"&&(t.chart.type==="lineWithFocusChart"||t.chart.type==="multiChart")||r==="y"&&t.chart.type==="lineWithFocusChart"||t.chart.type==="multiChart"||(t.chart[r]===undefined||t.chart[r]===null?n._config.extended&&(t.chart[r]=i()):n.chart[r](t.chart[r])))}),n.api.updateWithData(n.data),(t.title||n._config.extended)&&i("title"),(t.subtitle||n._config.extended)&&i("subtitle"),(t.caption||n._config.extended)&&i("caption"),(t.styles||n._config.extended)&&o(),nv.addGraph(function(){return nv.utils.windowResize(function(){n.destroyed||n.chart.update()}),n.chart},t.chart.callback))},updateWithData:function(i){i&&(n.options.chart.transitionDuration=+n.options.chart.transitionDuration||250,d3.select(t[0]).select("svg").remove(),d3.select(t[0]).append("svg").attr("height",n.options.chart.height).attr("width",n.options.chart.width).datum(i).transition().duration(n.options.chart.transitionDuration).call(n.chart),d3.select(t[0]).select("svg")[0][0].style.height=n.options.chart.height+"px",d3.select(t[0]).select("svg")[0][0].style.width=n.options.chart.width+"px",n.options.chart.type==="multiChart"&&n.chart.update())},clearElement:function(){t.find(".title").remove();t.find(".subtitle").remove();t.find(".caption").remove();t.empty();n.chart=null}};n.$watch("options",function(){!n._config.disabled&&n._config.autorefresh&&n.api.refresh()},!0);n.$watch("data",function(){!n._config.disabled&&n._config.autorefresh&&(n._config.refreshDataOnly?n.chart.update():n.api.refresh())},!0);n.$watch("config",function(t){n._config=angular.extend(u,t);n.api.refresh()},!0);n.$on("$destroy",function(){console.log("destroying chart");window.nv.charts={};window.nv.graphs=[];window.nv.logs={};window.onresize=null;n.destroyed=!0});angular.forEach(n.events,function(t,i){n.$on(i,function(i){return t(i,n)})})}}}])})();
/*
//# sourceMappingURL=angular-nvd3.min.js.map
*/
